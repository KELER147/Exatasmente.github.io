let questions = [
    {
        numb: 1,
        question: "A combustão completa de um hidrocarboneto simples gera apenas dois produtos principais. Qual é o hidrocarboneto cuja combustão completa produz água e dióxido de carbono, e o calor gerado é frequentemente utilizado em processos de aquecimento?",
        answer: "C. Propano (C₃H₈)",
        options: [
            "A. Metano (CH₄)",
            "B. Etano (C₂H₆)",
            "C. Propano (C₃H₈)",
            "D. Butano (C₄H₁₀)"
        ]
    },
    {
        numb: 2,
        question: "Em uma reação de neutralização, ácido clorídrico (HCl) reage com hidróxido de sódio (NaOH) para formar cloreto de sódio (NaCl) e água (H₂O). Qual é a concentração de NaCl formada se 100 mL de solução de HCl 1 M reage completamente com 100 mL de solução de NaOH 1 M?",
        answer: "D. 1,00 M",
        options: [
            "A. 0,25 M",
            "B. 0,50 M",
            "C. 0,75 M",
            "D. 1,00 M"
        ]
    },
    {
        numb: 3,
        question: "O pH de uma solução é uma medida da sua acidez ou basicidade. Considere uma solução aquosa onde a concentração de íons hidrogênio [H⁺] é 1 × 10⁻³ M. Qual é o pH dessa solução?",
        answer: "A. 3",
        options: [
            "A. 3",
            "B. 7",
            "C. 10",
            "D. 14"
        ]
    },
    {
        numb: 4,
        question: "Uma das características das reações de oxirredução é a transferência de elétrons entre as espécies químicas. Na reação de oxidação do ferro pelo oxigênio formando óxido de ferro (III), qual é o agente oxidante?",
        answer: "C. Oxigênio (O₂)",
        options: [
            "A. Ferro (Fe)",
            "B. Água (H₂O)",
            "C. Oxigênio (O₂)",
            "D. Dióxido de carbono (CO₂)"
        ]
    },
    {
        numb: 5,
        question: "O princípio de Le Chatelier é aplicado para prever o efeito das mudanças nas condições de um sistema em equilíbrio. Considere o equilíbrio a seguir: N₂(g) + 3H₂(g) ↔ 2NH₃(g) + calor. O que ocorre se a temperatura do sistema aumentar?",
        answer: "A. O equilíbrio se desloca para a esquerda.",
        options: [
            "A. O equilíbrio se desloca para a esquerda.",
            "B. O equilíbrio se desloca para a direita.",
            "C. Não há alteração no equilíbrio.",
            "D. A formação de NH₃ é favorecida."
        ]
    },
    {
        numb: 6,
        question: "Considerando a solubilidade dos sais, qual das seguintes substâncias é menos solúvel em água a 25 °C?",
        answer: "B. Carbonato de cálcio (CaCO₃)",
        options: [
            "A. Nitrato de sódio (NaNO₃)",
            "B. Carbonato de cálcio (CaCO₃)",
            "C. Cloreto de potássio (KCl)",
            "D. Sulfato de amônio ((NH₄)₂SO₄)"
        ]
    },
    {
        numb: 7,
        question: "Na eletrólise da água, a água é decomposta em hidrogênio e oxigênio. Qual das afirmações a seguir é correta sobre a eletrólise da água?",
        answer: "B. O hidrogênio é produzido no cátodo.",
        options: [
            "A. O oxigênio é produzido no cátodo.",
            "B. O hidrogênio é produzido no cátodo.",
            "C. A reação global consome energia.",
            "D. A água é reduzida a hidrogênio e oxigênio."
        ]
    },
    {
        numb: 8,
        question: "Em um sistema fechado, a evaporação de um líquido é um processo dinâmico. Qual é a condição necessária para que a taxa de evaporação seja igual à taxa de condensação?",
        answer: "D. Equilíbrio dinâmico.",
        options: [
            "A. Aumento da pressão externa.",
            "B. Aumento da temperatura do sistema.",
            "C. Sistema aberto.",
            "D. Equilíbrio dinâmico."
        ]
    },
    {
        numb: 9,
        question: "A estrutura de Lewis é uma representação gráfica das ligações entre átomos em uma molécula. Qual das seguintes moléculas possui uma estrutura de Lewis que obedece à regra do octeto para todos os átomos?",
        answer: "A. Água (H₂O)",
        options: [
            "A. Água (H₂O)",
            "B. Trifluoreto de boro (BF₃)",
            "C. Dióxido de carbono (CO₂)",
            "D. Cloreto de sódio (NaCl)"
        ]
    },
    {
        numb: 10,
        question: "A pressão de vapor de um líquido é a pressão exercida pelo vapor em equilíbrio com seu líquido a uma dada temperatura. Qual das seguintes afirmações é correta em relação à pressão de vapor?",
        answer: "C. A pressão de vapor aumenta com o aumento da temperatura.",
        options: [
            "A. A pressão de vapor aumenta com a diminuição da temperatura.",
            "B. A pressão de vapor é independente da temperatura.",
            "C. A pressão de vapor aumenta com o aumento da temperatura.",
            "D. A pressão de vapor de um líquido puro é igual à pressão atmosférica."
        ]
    },
    {
        numb: 11,
        question: "O conceito de energia de ionização refere-se à energia necessária para remover um elétron de um átomo no estado gasoso. Qual das seguintes tendências é correta para a energia de ionização ao longo de um período na tabela periódica?",
        answer: "C. A energia de ionização aumenta da esquerda para a direita.",
        options: [
            "A. A energia de ionização diminui da esquerda para a direita.",
            "B. A energia de ionização é constante ao longo do período.",
            "C. A energia de ionização aumenta da esquerda para a direita.",
            "D. A energia de ionização não depende da posição na tabela periódica."
        ]
    },
    {
        numb: 12,
        question: "As propriedades coligativas das soluções dependem do número de partículas em solução e não da natureza das partículas. Qual das seguintes propriedades é uma propriedade coligativa?",
        answer: "D. Ponto de ebulição",
        options: [
            "A. Cor da solução",
            "B. Condutividade elétrica",
            "C. Densidade da solução",
            "D. Ponto de ebulição"
        ]
    },
    {
        numb: 13,
        question: "A ligação iônica é formada pela transferência de elétrons entre átomos. Qual das seguintes substâncias forma uma ligação iônica?",
        answer: "C. NaCl",
        options: [
            "A. H₂O",
            "B. CO₂",
            "C. NaCl",
            "D. Cl₂"
        ]
    },
    {
        numb: 14,
        question: "A entalpia (H) é uma medida da energia total de um sistema. Considere a reação endotérmica: A + B + calor → C. Qual é a alteração na entalpia (ΔH) para essa reação?",
        answer: "C. ΔH > 0",
        options: [
            "A. ΔH < 0",
            "B. ΔH = 0",
            "C. ΔH > 0",
            "D. ΔH não pode ser determinado"
        ]
    },
    {
        numb: 15,
        question: "Os metais alcalinos são conhecidos por sua alta reatividade. Qual dos seguintes metais alcalinos é o mais reativo com água?",
        answer: "D. Césio (Cs)",
        options: [
            "A. Lítio (Li)",
            "B. Sódio (Na)",
            "C. Potássio (K)",
            "D. Césio (Cs)"
        ]
    },
    {
        numb: 16,
        question: "Os catalisadores aumentam a velocidade das reações químicas. Qual das seguintes afirmações é verdadeira sobre a função de um catalisador?",
        answer: "C. Um catalisador diminui a energia de ativação da reação.",
        options: [
            "A. Um catalisador aumenta a energia de ativação da reação.",
            "B. Um catalisador é consumido na reação.",
            "C. Um catalisador diminui a energia de ativação da reação.",
            "D. Um catalisador altera a entalpia da reação."
        ]
    },
        {
            numb: 17,
            question: "A molécula de metano (CH₄) tem uma geometria tetraédrica. Qual é o ângulo de ligação entre os átomos de hidrogênio na molécula de metano?",
            answer: "B. 109,5°",
            options: [
                "A. 90°",
                "B. 109,5°",
                "C. 120°",
                "D. 180°"
            ]
        },
        {
            numb: 18,
            question: "A lei de Avogadro afirma que volumes iguais de gases, nas mesmas condições de temperatura e pressão, contêm o mesmo número de moléculas. Quantos litros de gás oxigênio (O₂) estão contidos em 1 mol de O₂ a CNTP (0 °C e 1 atm)?",
            answer: "A. 22,4 L",
            options: [
                "A. 22,4 L",
                "B. 11,2 L",
                "C. 44,8 L",
                "D. 33,6 L"
            ]
        },
        {
            numb: 19,
            question: "Na química orgânica, os alcanos são hidrocarbonetos saturados. Qual é a fórmula molecular do alcano com cinco átomos de carbono?",
            answer: "C. C₅H₁₂",
            options: [
                "A. C₃H₈",
                "B. C₄H₁₀",
                "C. C₅H₁₂",
                "D. C₆H₁₄"
            ]
        },
        {
            numb: 20,
            question: "Os ácidos e bases podem ser classificados conforme a teoria de Brønsted-Lowry. Qual das seguintes espécies atua como um ácido de Brønsted-Lowry?",
            answer: "B. HCl",
            options: [
                "A. NH₃",
                "B. HCl",
                "C. OH⁻",
                "D. Cl⁻"
            ]
        },
        {
            numb: 21,
            question: "Os orbitais atômicos descrevem a região do espaço onde há maior probabilidade de encontrar um elétron. Quantos elétrons podem ocupar um orbital atômico individual?",
            answer: "A. 2",
            options: [
                "A. 2",
                "B. 4",
                "C. 6",
                "D. 8"
            ]
        },
        {
            numb: 22,
            question: "A teoria de VSEPR (Repulsão dos Pares de Elétrons da Camada de Valência) é usada para prever a geometria molecular. Qual é a geometria molecular do dióxido de carbono (CO₂)?",
            answer: "D. Linear",
            options: [
                "A. Angular",
                "B. Trigonal planar",
                "C. Tetraédrica",
                "D. Linear"
            ]
        },
        {
            numb: 23,
            question: "A eletronegatividade é uma medida da tendência de um átomo de atrair elétrons em uma ligação química. Qual dos seguintes elementos é o mais eletronegativo?",
            answer: "A. Flúor (F)",
            options: [
                "A. Flúor (F)",
                "B. Oxigênio (O)",
                "C. Nitrogênio (N)",
                "D. Cloro (Cl)"
            ]
        },
        {
            numb: 24,
            question: "Os elementos do grupo 1 da tabela periódica são conhecidos como metais alcalinos. Qual das seguintes propriedades é comum aos metais alcalinos?",
            answer: "B. Alta reatividade com água",
            options: [
                "A. Alta densidade",
                "B. Alta reatividade com água",
                "C. Baixa reatividade química",
                "D. Alta temperatura de fusão"
            ]
        },
        {
            numb: 25,
            question: "A tabela periódica organiza os elementos de acordo com suas propriedades químicas. Qual dos seguintes elementos é um metal de transição?",
            answer: "C. Ferro (Fe)",
            options: [
                "A. Hidrogênio (H)",
                "B. Carbono (C)",
                "C. Ferro (Fe)",
                "D. Oxigênio (O)"
            ]
        }
    ];
    
let selectedQuestions = [];
let questionCount = 0;
let userScore = 0;
let optionSelectedFlag = false;

document.addEventListener('DOMContentLoaded', function() {
    let nextBtn = document.querySelector('.next-btn');
    let optionList = document.querySelector('.option-list');
    let pontuaçãoBtn = document.querySelector('.Pontuação-btn');
    let novamenteBtn = document.querySelector('.Novamente-btn');
    let questionNumb = 1;

    // Função para sortear 5 perguntas aleatórias
    function getRandomQuestions() {
        let shuffled = questions.sort(() => 0.25 - Math.random());
        return shuffled.slice(0, 5);
    }

    // Inicializa o quiz com 5 perguntas aleatórias
    function initializeQuiz() {
        selectedQuestions = getRandomQuestions();
        userScore = 0;
        questionCount = 0;
        questionNumb = 1;
        headerScore();
        showQuestions(questionCount);
        questionCounter(questionNumb);
    }

    nextBtn.onclick = () => {
        if (optionSelectedFlag) {
            if (questionCount < selectedQuestions.length - 1) {
                questionCount++;
                questionNumb++;
                showQuestions(questionCount);
                questionCounter(questionNumb);
                optionSelectedFlag = false;
            } else {
                console.log('Question Completed');
                pontuaçãoBtn.classList.add('active');
                nextBtn.classList.remove('active');
                novamenteBtn.classList.add('active');
    
                // Adicionando a funcionalidade do alerta aqui
                var pontuação = userScore; // Supondo que pontuaçãoBtn seja a pontuação do quiz
                if (pontuação >= 3) {
                    alert(`Parabéns pelo o resultado. Sua pontuação é: ${userScore}`);
                } else {
                    alert(`Parabéns por tentar! Continue se esforçando. Sua pontuação é: ${userScore}`);
                }
            }
        }
    };
    
    function showQuestions(index) {
        const questionText = document.querySelector('.question-text');
        questionText.textContent = `${questionNumb}. ${selectedQuestions[index].question}`;
        let optionTag = `
            <div class="option"><span>${selectedQuestions[index].options[0]}</span></div>
            <div class="option"><span>${selectedQuestions[index].options[1]}</span></div>
            <div class="option"><span>${selectedQuestions[index].options[2]}</span></div>
            <div class="option"><span>${selectedQuestions[index].options[3]}</span></div>`;
        optionList.innerHTML = optionTag;

        const option = document.querySelectorAll('.option');
        for (let i = 0; i < option.length; i++) {
            option[i].addEventListener('click', () => {
                optionSelected(option[i]);
            });
        }

        nextBtn.classList.remove('active');
    }

    function questionCounter(index) {
        const questionTotal = document.querySelector('.question-total');
        questionTotal.textContent = `${index} de ${selectedQuestions.length} Questões`;
    }

    function headerScore() {
        const headerScoreText = document.querySelector('.header-score');
        headerScoreText.textContent = `PONTOS: ${userScore} / 5`;
    }

    function optionSelected(answer) {
        let userAnswer = answer.textContent;
        let correctAnswer = selectedQuestions[questionCount].answer;
        let allOptions = optionList.children.length;

        optionSelectedFlag = true;

        if (userAnswer == correctAnswer) {
            answer.classList.add('correct');
            userScore += 1;
            headerScore();
        } else {
            answer.classList.add('incorrect');
            for (let i = 0; i < allOptions; i++) {
                if (optionList.children[i].textContent == correctAnswer) {
                    optionList.children[i].setAttribute('class', 'option correct');
                }
            }
        }
        for (let i = 0; i < allOptions; i++) {
            optionList.children[i].classList.add('disabled');
            optionList.children[i].classList.add('no-pointer');
            optionList.children[i].removeEventListener('click', optionSelected);
        }
        nextBtn.classList.add('active');
    }

    const url = "index.html";

    function openInNewTab(url) {
        const win = window.open(url, '_blank');
        win.focus();
    }

    pontuaçãoBtn.addEventListener('click', () => {
        openInNewTab(url);
    });

    novamenteBtn.addEventListener('click', () => {
        initializeQuiz();
        pontuaçãoBtn.classList.remove('active');
        novamenteBtn.classList.remove('active');
        resultBox.classList.remove('active');
        quizSection.classList.add('active');
    });

    initializeQuiz();
});
