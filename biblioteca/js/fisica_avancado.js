let questions = [
    {
        numb: 1,
        question: "(Enem 2023) Balões cheios de gás hélio são soltos no ar pelascrianças e sobem até não serem mais vistos em poucosminutos.Durante a subida, o gás no interior do balão sofreaumento de",
        answer: "A. volume.",
        options: [
            "A. volume.",
            "B. pressão.",
            "C. densidade.",
            "D. temperatura."
        ]
    },
    {
        numb: 2,
        question: "(ENEM 2017) Um estudante deseja determinar a aceleração da gravidade local utilizando um pêndulo simples. Ele monta um pêndulo com um fio de comprimento 1,0 m e um pequeno peso. O estudante mede o período de oscilação do pêndulo e encontra um valor aproximado de 2,0 s. Considerando π = 3,14, a aceleração da gravidade local é: ",
        answer: "C. 9,8 m/s²",
        options: [
            "A. 5,0 m/s²",
            "B. 7,0 m/s²",
            "C. 9,8 m/s²",
            "D.  10,0 m/s²"
        ]
    },
    {
        numb: 3,
        question: "(ENEM 2016) Um bloco de massa 2,0 kg é colocado em uma superfície horizontal e puxado por uma força horizontal constante de 10 N. Sabendo que o coeficiente de atrito cinético entre o bloco e a superfície é 0,2, a aceleração do bloco é (use g = 10 m/s²): ",
        answer: "A. 3,0 m/s²",
        options: [
            "A. 3,0 m/s²",
            "B. 4,0 m/s²",
            "C. 5,0 m/s²",
            "D. 6,0 m/s²"
        ]
    },
    {
        numb: 4,
        question: "(ENEM 2015)Um carro viaja a uma velocidade constante de 72 km/h em uma estrada reta. O motorista vê um sinal de trânsito 150 m à frente e aplica os freios, resultando em uma desaceleração constante de 2 m/s². A que distância do sinal o carro irá parar?",
        answer: "C. 75 m",
        options: [
            "A. 25 m",
            "B. 50 m",
            "C. 75 m",
            "D. 100 m"
        ]
    },
    {
        numb: 5,
        question: "(ENEM 2018) Dois corpos, A e B, ambos com massa de 1 kg, estão a uma distância de 1 m um do outro. A força gravitacional entre eles é aproximadamente: ",
        answer: "B. 6,67 × 10⁻¹¹ N",
        options: [
            "A. 6,67 × 10⁻⁹ N",
            "B. 6,67 × 10⁻¹¹ N",
            "C. 6,67 × 10⁻⁸ N",
            "D. 6,67 × 10⁻¹⁰ N"
        ]
    },
    {
        numb: 6,
        question: "(ENEM 2019)Um estudante realiza um experimento com uma mola ideal de constante elástica 200 N/m. Ele aplica uma força de 40 N para alongar a mola. O alongamento produzido na mola é:",
        answer: "B. 0,2 m",
        options: [
            "A. 0,1 m",
            "B. 0,2 m",
            "C. 0,3 m",
            "D. 0,4 m"
        ]
    },
    {
        numb: 7,
        question: "(ENEM 2017) Um cilindro de gás ideal está a uma temperatura de 300 K e pressão de 1 atm. Se a temperatura do gás for aumentada para 600 K, mantendo-se o volume constante, a nova pressão do gás será:",
        answer: "D. 2,0 atm",
        options: [
            "A. 0,5 atm",
            "B. 1,0 atm",
            "C. 1,5 atm",
            "D. 2,0 atm"
        ]
    },
    {
        numb: 8,
        question: "(Enem 2023) As baterias de lítio para carros elétricos são capazes de armazenar cerca de 700 Wh de energia em um volume de 1 L, enquanto a combustão de 1 L de etanol hidratado em um motor a combustão disponibiliza 6 300 Wh de energia. Os motores a combustão têm uma eficiência baixa, com apenas 30% da energia do combustível sendo transformada em movimento. Já os motores elétricos apresentam eficiência três vezes maior. Para estudar a viabilidade de se utilizar a mesma plataforma de um carro movido a álcool, com tanque de 40 L de combustível,para a produção de modelos elétricos, uma equipe de engenharia precisa estimar o volume da bateria de lítio que corresponda, no carro elétrico, à mesma quantidade energética desse carro a álcool. O volume aproximado, em litro, da bateria de lítio a ser utilizada é",
        answer: "B. 120.",
        options: [
            "A. 36.",
            "B. 120.",
            "C. 360.",
            "D. 400."
        ]
    },
    {
        numb: 9,
        question: "(ENEM 2015) Um estudante observa que a intensidade de som emitido por uma fonte sonora duplica ao se aproximar da fonte. Se inicialmente estava a uma distância de 4 m da fonte, qual será a nova distância ao duplicar a intensidade sonora?",
        answer: "A. 2 m",
        options: [
            "A. 2 m",
            "B. 2,5 m",
            "C. 3 m",
            "D. 3,5 m"
        ]
    },
    {
        numb: 10,
        question: "(ENEM 2019) Uma esfera de metal de 1 kg é aquecida de 20°C a 100°C, absorvendo 3.360 J de calor. A capacidade térmica específica do metal é:",
        answer: "C. 40 J/kg·°C",
        options: [
            "A. 30 J/kg·°C",
            "B. 35 J/kg·°C",
            "C. 40 J/kg·°C",
            "D. 45 J/kg·°C"
        ]
    },
    {
        numb: 11,
        question: "A nanotecnologia pode ser caracterizada quando oscompostos estão na ordem de milionésimos de milímetros, como na utilização de nanomateriais catalíticos nos processos industriais. O uso desses materiais aumenta a eficiência da produção, consome menos energia e geramenores quantidades de resíduos. O sucesso dessa aplicação tecnológica muitas vezes está relacionado ao aumento da velocidade da reação química envolvida. O êxito da aplicação dessa tecnologia é por causa da realização de reações químicas que ocorrem em condições de",
        answer: "D. maior superfície de contato.",
        options: [
            "A. alta pressão.",
            "B. alta temperatura.",
            "C. excesso de reagentes.",
            "D. maior superfície de contato."
        ]
    },
    {
        numb: 12,
        question: "(ENEM 2015) Um gás ideal sofre uma transformação isobárica, com pressão constante de 1 atm, em que seu volume aumenta de 2 L para 4 L. O trabalho realizado pelo gás é (1 atm = 1,01 × 10⁵ Pa):",
        answer: "B. 202 J",
        options: [
            "A. 101 J",
            "B. 202 J",
            "C. 303 J",
            "D. 404 J"
        ]
    },
    {
        numb: 13,
        question: "(ENEM 2017) Uma força de 500 N é aplicada horizontalmente para mover uma caixa de 100 kg em uma superfície horizontal com aceleração de 2 m/s². A força de atrito entre a caixa e a superfície é:",
        answer: "B. 300 N",
        options: [
            "A. 200 N",
            "B. 300 N",
            "C. 400 N",
            "D. 500 N"
        ]
    },
    {
        numb: 14,
        question: "Dois engenheiros estão verificando se uma cavidade perfurada no solo está de acordo com o planejamento de uma obra, cuja profundidade requerida é de 30 m. O teste é feito por um dispositivo denominado oscilador de áudio de frequência variável, que permite relacionar a profundidade com os valores da frequência de duas ressonâncias consecutivas, assim como em um tubo sonoro fechado. A menor frequência de ressonância que o aparelho mediu foi 135 Hz. Considere que a velocidade do som dentro da cavidade perfurada é de 360 m s-1. Se a profundidade estiver de acordo com o projeto, qual será o valor da próxima frequência de ressonância que será medida?",
        answer: "C. 141 Hz.",
        options: [
            "A. 137 Hz.",
            "B. 138 Hz.",
            "C. 141 Hz.",
            "D. 144 Hz."
        ]
    },
    {
        numb: 15,
        question: "(ENEM 2017) Um resistor ôhmico de 60 Ω é conectado a uma fonte de tensão de 120 V. Qual é a potência dissipada pelo resistor?",
        answer: "D. 240 W",
        options: [
            "A. 120 W",
            "B. 180 W",
            "C. 200 W",
            "D. 240 W"
        ]
    },
    {
        numb: 16,
        question: "As redes de alta tensão para transmissão de energia elétrica geram campo magnético variável o suficiente para induzir corrente elétrica no arame das cercas. Tanto os animais quanto os funcionários das propriedades rurais ou das concessionárias de energia devem ter muito cuidado ao se aproximarem de uma cerca quando esta estiver próxima a uma rede de alta tensão, pois, se tocarem no arame da cerca, poderão sofrer choque elétrico. Para minimizar este tipo de problema, deve-se:",
        answer: "A. Fazer o aterramento dos arames da cerca.",
        options: [
            "A. Fazer o aterramento dos arames da cerca.",
            "B. Acrescentar fusível de segurança na cerca.",
            "C. Realizar o aterramento da rede de alta tensão.",
            "D. Instalar fusível de segurança na rede de alta tensão."
        ]
    },
    {
        numb: 17,
        question: "(Enem 2022) Em um dia de calor intenso, dois colegas estão a brincar com a água da mangueira. Um deles quer saber até que altura o jato de água alcança, a partir da saída de água, quando a mangueira está posicionada totalmente na direção vertical. O outro colega propõe então o seguinte experimento: eles posicionarem a saída de água da mangueira na direção horizontal, a 1 m de altura em relação ao chão, e então medirem a distância horizontal entre a mangueira e o local onde a água atinge o chão. A medida dessa distância foi de 3 m, e a partir disso eles calcularam o alcance vertical do jato de água. Considere a aceleração da gravidade de 10 m s-2. O resultado que eles obtiveram foi de",
        answer: "B. 2,25 m.",
        options: [
            "A. 1,50 m.",
            "B. 2,25 m.",
            "C. 4,00 m.",
            "D. 4,50 m."
        ]
    },
    {
        numb: 18,
        question: "(Enem 2022) Em 2017, foi inaugurado, no estado da Bahia, o Parque Solar Lapa, composto por duas usinas (Bom Jesus da Lapa e Lapa) e capaz de gerar cerca de 300 GWh de energia por ano. Considere que cada usina apresente potência igual a 75 MW, com o parque totalizando uma potência instalada de 150 MW. Considere ainda que a irradiância solar média é de 1 500 W/m² e que a eficiência dos painéis é de 20%. Nessas condições, a área total dos painéis solares que compõem o Parque Solar Lapa é mais próxima de:",
        answer: "B. 500 000 m2",
        options: [
            "A. 1 000 000 m2",
            "B. 500 000 m2",
            "C. 250 000 m2",
            "D. 100 000 m2"
        ]
    },
    {
        numb: 19,
        question: "(Enem 2019)A gripe é uma infecção respiratória aguda de curta duração causada pelo vírus influenza. Ao entrar no nosso organismo pelo nariz, esse vírus multiplica-se, disseminando-se para a garganta e demais partes das vias respiratórias, incluindo os pulmões. O vírus influenza é uma partícula esférica que tem um diâmetro interno de 0,00011 mm. Disponível em: www.gripenet.pt. Acesso em: 2 nov. 2013 (adaptado). Em notação científica, o diâmetro interno do vírus influenza, em mm, é",
        answer: "D. 1,1 × 10-4",
        options: [
            "A. 1,1 × 10-¹",
            "B. 1,1 × 10-²",
            "C. 1,1 × 10-³",
            "D. 1,1 × 10-4"
        ]
    },
    {
        numb: 20,
        question: "(Enem 2019) Uma das formas de se obter energia elétrica é usar uma lente convergente circular para concentrar os raios de sol em um único ponto, aquecendo um dispositivo localizado nesse ponto a uma temperatura elevada. Com a transformação da energia luminosa em energia térmica,pode ser criado vapor-d’água que moverá uma turbina e gerará energia elétrica. Para projetar um sistema de geração de energia elétrica, a fim de alimentar um chuveiro elétrico de 2 000 W de potência, sabe-se que, neste local, a energia recebida do Sol é 1 000 W/m2 . Esse sistema apresenta taxa de eficiência de conversão em energia elétrica de 50% da energia solar incidente. Considere √π = 1,8. Qual deve ser, em metro, o raio da lente para que esse sistema satisfaça aos requisitos do projeto?",
        answer: "D. 1,11",
        options: [
            "A. 0,28",
            "B. 0,32",
            "C. 0,40",
            "D. 1,11"
        ]
    },
    {
        numb: 21,
        question: "(Enem 2019)Nos municípios onde foi detectada a resistência do Aedes aegypti, o larvicida tradicional será substituído por outro com concentração de 10% (v/v) de um novo princípio ativo. A vantagem desse segundo larvicida é que uma pequena quantidade da emulsão apresenta alta capacidade de atuação, o que permitirá a condução de baixo volume de larvicida pelo agente de combate às endemias. Para evitar erros de manipulação, esse novo larvicida será fornecido em frascos plásticos e, para uso em campo, todo o seu conteúdo deve ser diluído em água até o volume final de um litro. O objetivo é obter uma concentração final de 2% em volume do princípio ativo. Que volume de larvicida deve conter o frasco plástico?",
        answer: "D. 200 mL",
        options: [
            "A. 10 mL",
            "B. 50 mL",
            "C. 100 mL",
            "D. 200 mL"
        ]
    },
    {
        numb: 22,
        question: "(Enem 2010) No monte de Cerro Armazones, no deserto de Atacama,no Chile, ficará o maior telescópio da superfície terrestre, o Telescópio Europeu Extremamente Grande (E-ELT). O E-ELT terá um espelho primário de 42 m de diâmetro, “o maior olho do mundo voltado para o céu”. Ao ler esse texto em uma sala de aula, uma professora fez uma suposição de que o diâmetro do olho humano mede aproximadamente 2,1 cm. Qual a razão entre o diâmetro aproximado do olho humano, suposto pela professora, e o diâmetro do espelho primário do telescópio citado?",
        answer: "A. 1 : 2 000",
        options: [
            "A. 1 : 2 000",
            "B. 1 : 100",
            "C. 1 : 200",
            "D. 1 : 1 000"
        ]
    },
    {
        numb: 23,
        question: "(Enem 2016) Uma liga metálica sai do forno a uma temperatura de 3 000 °C e diminui 1% de sua temperatura a cada 30 min. Use 0,477 como aproximação para log10(3) e 1,041 como aproximação para log10(11). O tempo decorrido, em hora, até que a liga atinja 30 °C é mais próximo de",
        answer: "D. 200",
        options: [
            "A. 22",
            "B. 50",
            "C. 100",
            "D. 200"
        ]
    },
    {
        numb: 24,
        question: "(ENEM 2018)Para resolver o problema de abastecimento de água foi decidida, numa reunião do condomínio, a construção de uma nova cisterna. A cisterna atual tem formato cilíndrico, com 3 m de altura e 2 m de diâmetro, e estimou-se que a nova cisterna deverá comportar 81 m3 de água, mantendo o formato cilíndrico e a altura da atual. Após a inauguração da nova cisterna a antiga será desativada. Utilize 3,0 como aproximação para π. Qual deve ser o aumento, em metros, no raio da cisterna para atingir o volume desejado?",
        answer: "C. 2,0",
        options: [
            "A. 0,5",
            "B. 1,0",
            "C. 2,0",
            "D. 3,5"
        ]
    },
    {
        numb: 25,
        question: "(ENEM 2014) Ao sintonizarmos uma estação de rádio ou um canal de TV em um aparelho, estamos alterando algumas características elétricas de seu circuito receptor. Das inúmeras ondas eletromagnéticas que chegam simultaneamente ao receptor, somente aquelas que oscilam com determinada frequência resultarão em máxima absorção de energia.O fenômeno descrito é a",
        answer: "D. v",
        options: [
            "A. Difração",
            "B. Refração.",
            "C. Polarização",
            "D. Ressonância."
        ]
    }
];

let selectedQuestions = [];
let questionCount = 0;
let userScore = 0;
let optionSelectedFlag = false;

document.addEventListener('DOMContentLoaded', function() {
    let nextBtn = document.querySelector('.next-btn');
    let optionList = document.querySelector('.option-list');
    let pontuaçãoBtn = document.querySelector('.Pontuação-btn');
    let novamenteBtn = document.querySelector('.Novamente-btn');
    let questionNumb = 1;

    // Função para sortear 5 perguntas aleatórias
    function getRandomQuestions() {
        let shuffled = questions.sort(() => 0.25 - Math.random());
        return shuffled.slice(0, 5);
    }

    // Inicializa o quiz com 5 perguntas aleatórias
    function initializeQuiz() {
        selectedQuestions = getRandomQuestions();
        userScore = 0;
        questionCount = 0;
        questionNumb = 1;
        headerScore();
        showQuestions(questionCount);
        questionCounter(questionNumb);
    }

    nextBtn.onclick = () => {
        if (optionSelectedFlag) {
            if (questionCount < selectedQuestions.length - 1) {
                questionCount++;
                questionNumb++;
                showQuestions(questionCount);
                questionCounter(questionNumb);
                optionSelectedFlag = false;
            } else {
                console.log('Question Completed');
                pontuaçãoBtn.classList.add('active');
                nextBtn.classList.remove('active');
                novamenteBtn.classList.add('active');
    
                // Adicionando a funcionalidade do alerta aqui
                var pontuação = userScore; // Supondo que pontuaçãoBtn seja a pontuação do quiz
                if (pontuação >= 3) {
                    alert(`Parabéns pelo o resultado. Sua pontuação é: ${userScore}`);
                } else {
                    alert(`Parabéns por tentar! Continue se esforçando. Sua pontuação é: ${userScore}`);
                }
            }
        }
    };
    

    function showQuestions(index) {
        const questionText = document.querySelector('.question-text');
        questionText.textContent = `${questionNumb}. ${selectedQuestions[index].question}`;
        let optionTag = `
            <div class="option"><span>${selectedQuestions[index].options[0]}</span></div>
            <div class="option"><span>${selectedQuestions[index].options[1]}</span></div>
            <div class="option"><span>${selectedQuestions[index].options[2]}</span></div>
            <div class="option"><span>${selectedQuestions[index].options[3]}</span></div>`;
        optionList.innerHTML = optionTag;

        const option = document.querySelectorAll('.option');
        for (let i = 0; i < option.length; i++) {
            option[i].addEventListener('click', () => {
                optionSelected(option[i]);
            });
        }

        nextBtn.classList.remove('active');
    }

    function questionCounter(index) {
        const questionTotal = document.querySelector('.question-total');
        questionTotal.textContent = `${index} de ${selectedQuestions.length} Questões`;
    }

    function headerScore() {
        const headerScoreText = document.querySelector('.header-score');
        headerScoreText.textContent = `PONTOS: ${userScore} / 5`;
    }

    function optionSelected(answer) {
        let userAnswer = answer.textContent;
        let correctAnswer = selectedQuestions[questionCount].answer;
        let allOptions = optionList.children.length;

        optionSelectedFlag = true;

        if (userAnswer == correctAnswer) {
            answer.classList.add('correct');
            userScore += 1;
            headerScore();
        } else {
            answer.classList.add('incorrect');
            for (let i = 0; i < allOptions; i++) {
                if (optionList.children[i].textContent == correctAnswer) {
                    optionList.children[i].setAttribute('class', 'option correct');
                }
            }
        }
        for (let i = 0; i < allOptions; i++) {
            optionList.children[i].classList.add('disabled');
            optionList.children[i].classList.add('no-pointer');
            optionList.children[i].removeEventListener('click', optionSelected);
        }
        nextBtn.classList.add('active');
    }

    const url = "index.html";

    function openInNewTab(url) {
        const win = window.open(url, '_blank');
        win.focus();
    }

    pontuaçãoBtn.addEventListener('click', () => {
        openInNewTab(url);
    });

    novamenteBtn.addEventListener('click', () => {
        initializeQuiz();
        pontuaçãoBtn.classList.remove('active');
        novamenteBtn.classList.remove('active');
        resultBox.classList.remove('active');
        quizSection.classList.add('active');
    });

    initializeQuiz();
});
