let questions = [
    {
        numb: 1,
        question: "Qual é a unidade de medida da força no Sistema Internacional de Unidades (SI)?",
        answer: "A. Newton",
        options: [
            "A. Newton",
            "B. Joule",
            "C. Watt",
            "D. Pascal"
        ]
    },
    {
        numb: 2,
        question: "O que acontece com a velocidade de um objeto em queda livre em um campo gravitacional uniforme?",
        answer: "B. Aumenta linearmente",
        options: [
            "A. Permanece constante",
            "B. Aumenta linearmente",
            "C. Diminui linearmente",
            "D. Diminui exponencialmente"
        ]
    },
    {
        numb: 3,
        question: "Qual é a fórmula da segunda lei de Newton?",
        answer: "B. F = ma",
        options: [
            "A. F = m/a",
            "B. F = ma",
            "C. F = mv²/r",
            "D. F = kx"
        ]
    },
    {
        numb: 4,
        question: "Qual é a aceleração da gravidade na superfície da Terra?",
        answer: "B. 9.8 m/s²",
        options: [
            "A. 8.9 m/s²",
            "B. 9.8 m/s²",
            "C. 10.1 m/s²",
            "D. 11.2 m/s²"
        ]
    },
    {
        numb: 5,
        question: "Qual é a energia cinética de um objeto com massa m e velocidade v?",
        answer: "A. ½ mv²",
        options: [
            "A. ½ mv²",
            "B. mv²",
            "C. 2mv",
            "D. ½ mv"
        ]
    },
    {
        numb: 6,
        question: "Qual é a unidade de medida da energia no Sistema Internacional de Unidades (SI)?",
        answer: "B. Joule",
        options: [
            "A. Newton",
            "B. Joule",
            "C. Watt",
            "D. Pascal"
        ]
    },
    {
        numb: 7,
        question: "O que é necessário para um objeto permanecer em movimento retilíneo uniforme?",
        answer: "B. Nenhuma força externa",
        options: [
            "A. Uma força constante",
            "B. Nenhuma força externa",
            "C. Uma aceleração constante",
            "D. Uma velocidade variável"
        ]
    },
    {
        numb: 8,
        question: "Qual é a fórmula da Lei da Gravitação Universal de Newton?",
        answer: "A. F = Gm₁m₂/r²",
        options: [
            "A. F = Gm₁m₂/r²",
            "B. F = Gm₁m₂r²",
            "C. F = Gm₁/m₂r²",
            "D. F = Gm₁m₂/r"
        ]
    },
    {
        numb: 9,
        question: "O que é a inércia?",
        answer: "B. A resistência à mudança de estado de movimento",
        options: [
            "A. A resistência à mudança de temperatura",
            "B. A resistência à mudança de estado de movimento",
            "C. A resistência à compressão",
            "D. A resistência à eletricidade"
        ]
    },
    {
        numb: 10,
        question: "Qual é a fórmula para a pressão?",
        answer: "A. P = F/A",
        options: [
            "A. P = F/A",
            "B. P = F/A²",
            "C. P = FA",
            "D. P = F²/A"
        ]
    },
    {
        numb: 11,
        question: "O que mede o amperímetro?",
        answer: "B. Corrente elétrica",
        options: [
            "A. Potência",
            "B. Corrente elétrica",
            "C. Resistência",
            "D. Tensão"
        ]
    },
    {
        numb: 12,
        question: "Qual é a unidade de medida da resistência elétrica?",
        answer: "A. Ohm",
        options: [
            "A. Ohm",
            "B. Volt",
            "C. Ampere",
            "D. Watt"
        ]
    },
    {
        numb: 13,
        question: "Qual é a fórmula da primeira lei de Ohm?",
        answer: "A. V = IR",
        options: [
            "A. V = IR",
            "B. V = I/R",
            "C. V = I²R",
            "D. V = IR²"
        ]
    },
    {
        numb: 14,
        question: "O que é um circuito em série?",
        answer: "B. Circuito com um único caminho para a corrente",
        options: [
            "A. Circuito com componentes conectados lado a lado",
            "B. Circuito com um único caminho para a corrente",
            "C. Circuito com componentes desconectados",
            "D. Circuito com múltiplos caminhos para a corrente"
        ]
    },
    {
        numb: 15,
        question: "Qual é a unidade de medida da potência elétrica?",
        answer: "C. Watt",
        options: [
            "A. Joule",
            "B. Newton",
            "C. Watt",
            "D. Pascal"
        ]
    },
    {
        numb: 16,
        question: "O que é a frequência de uma onda?",
        answer: "A. O número de ondas que passa por um ponto em um segundo",
        options: [
            "A. O número de ondas que passa por um ponto em um segundo",
            "B. A distância entre duas cristas consecutivas",
            "C. A altura da onda",
            "D. A velocidade da onda"
        ]
    },
    {
        numb: 17,
        question: "Qual é a fórmula para a velocidade de uma onda?",
        answer: "A. v = fλ",
        options: [
            "A. v = fλ",
            "B. v = f/λ",
            "C. v = λ/f",
            "D. v = f²λ"
        ]
    },
    {
        numb: 18,
        question: "O que é a refração da luz?",
        answer: "C. A mudança de direção da luz ao passar de um meio para outro",
        options: [
            "A. A reflexão da luz em uma superfície",
            "B. A absorção da luz por um material",
            "C. A mudança de direção da luz ao passar de um meio para outro",
            "D. A emissão de luz por um objeto"
        ]
    },
    {
        numb: 19,
        question: "Qual é a unidade de medida da carga elétrica?",
        answer: "A. Coulomb",
        options: [
            "A. Coulomb",
            "B. Volt",
            "C. Watt",
            "D. Ohm"
        ]
    },
    {
        numb: 20,
        question: "O que acontece com a resistência elétrica de um fio quando sua temperatura aumenta?",
        answer: "B. A resistência aumenta",
        options: [
            "A. A resistência diminui",
            "B. A resistência aumenta",
            "C. A resistência permanece constante",
            "D. A resistência zera"
        ]
    },
    {
        numb: 21,
        question: "Qual é a velocidade da luz no vácuo?",
        answer: "D. 3 x 10⁸ m/s",
        options: [
            "A. 3 x 10⁵ m/s",
            "B. 3 x 10⁶ m/s",
            "C. 3 x 10⁷ m/s",
            "D. 3 x 10⁸ m/s"
        ]
    },
    {
        numb: 22,
        question: "Qual é a unidade de medida da intensidade sonora?",
        answer: "A. Decibel ",
        options: [
            "A. Decibel ",
            "B. Hertz",
            "C. Joule",
            "D. Newton"
        ]
    },
    {
        numb: 23,
        question: "O que é a Lei de Coulomb?",
        answer: "A. A força entre duas cargas elétricas é proporcional ao produto das cargas e inversamente proporcional ao quadrado da distância entre elas ",
        options: [
            "A. A força entre duas cargas elétricas é proporcional ao produto das cargas e inversamente proporcional ao quadrado da distância entre elas",
            "B. A corrente elétrica é proporcional à voltagem",
            "C. A energia é conservada em um sistema isolado",
            "D. A pressão é proporcional ao volume"
        ]
    },
    {
        numb: 24,
        question: "O que é a capacitância?",
        answer: "C. A capacidade de um componente armazenar carga elétrica",
        options: [
            "A. A resistência à corrente elétrica",
            "B. A quantidade de corrente em um circuito",
            "C. A capacidade de um componente armazenar carga elétrica",
            "D. A força de atração entre duas cargas"
        ]
    },
    {
        numb: 25,
        question: "O que é a indutância?",
        answer: "B. A propriedade de um circuito de se opor a mudanças na corrente",
        options: [
            "A. A resistência elétrica",
            "B. A propriedade de um circuito de se opor a mudanças na corrente",
            "C. A capacidade de um componente armazenar carga",
            "D. A energia total em um circuito"
        ]
    }
];


let selectedQuestions = [];
let questionCount = 0;
let userScore = 0;
let optionSelectedFlag = false;

document.addEventListener('DOMContentLoaded', function() {
    let nextBtn = document.querySelector('.next-btn');
    let optionList = document.querySelector('.option-list');
    let pontuaçãoBtn = document.querySelector('.Pontuação-btn');
    let novamenteBtn = document.querySelector('.Novamente-btn');
    let questionNumb = 1;

    // Função para sortear 5 perguntas aleatórias
    function getRandomQuestions() {
        let shuffled = questions.sort(() => 0.25 - Math.random());
        return shuffled.slice(0, 5);
    }

    // Inicializa o quiz com 5 perguntas aleatórias
    function initializeQuiz() {
        selectedQuestions = getRandomQuestions();
        userScore = 0;
        questionCount = 0;
        questionNumb = 1;
        headerScore();
        showQuestions(questionCount);
        questionCounter(questionNumb);
    }


    nextBtn.onclick = () => {
        if (optionSelectedFlag) {
            if (questionCount < selectedQuestions.length - 1) {
                questionCount++;
                questionNumb++;
                showQuestions(questionCount);
                questionCounter(questionNumb);
                optionSelectedFlag = false;
            } else {
                console.log('Question Completed');
                pontuaçãoBtn.classList.add('active');
                nextBtn.classList.remove('active');
                novamenteBtn.classList.add('active');
    
                // Adicionando a funcionalidade do alerta aqui
                var pontuação = userScore; // Supondo que pontuaçãoBtn seja a pontuação do quiz
                if (pontuação >= 3) {
                    alert(`Parabéns pelo o resultado. Sua pontuação é: ${userScore}`);
                } else {
                    alert(`Parabéns por tentar! Continue se esforçando. Sua pontuação é: ${userScore}`);
                }
            }
        }
    };
    

    function showQuestions(index) {
        const questionText = document.querySelector('.question-text');
        questionText.textContent = `${questionNumb}. ${selectedQuestions[index].question}`;
        let optionTag = `
            <div class="option"><span>${selectedQuestions[index].options[0]}</span></div>
            <div class="option"><span>${selectedQuestions[index].options[1]}</span></div>
            <div class="option"><span>${selectedQuestions[index].options[2]}</span></div>
            <div class="option"><span>${selectedQuestions[index].options[3]}</span></div>`;
        optionList.innerHTML = optionTag;

        const option = document.querySelectorAll('.option');
        for (let i = 0; i < option.length; i++) {
            option[i].addEventListener('click', () => {
                optionSelected(option[i]);
            });
        }

        nextBtn.classList.remove('active');
    }

    function questionCounter(index) {
        const questionTotal = document.querySelector('.question-total');
        questionTotal.textContent = `${index} de ${selectedQuestions.length} Questões`;
    }

    function headerScore() {
        const headerScoreText = document.querySelector('.header-score');
        headerScoreText.textContent = `PONTOS: ${userScore} / 5`;
    }

    function optionSelected(answer) {
        let userAnswer = answer.textContent;
        let correctAnswer = selectedQuestions[questionCount].answer;
        let allOptions = optionList.children.length;

        optionSelectedFlag = true;

        if (userAnswer == correctAnswer) {
            answer.classList.add('correct');
            userScore += 1;
            headerScore();
        } else {
            answer.classList.add('incorrect');
            for (let i = 0; i < allOptions; i++) {
                if (optionList.children[i].textContent == correctAnswer) {
                    optionList.children[i].setAttribute('class', 'option correct');
                }
            }
        }
        for (let i = 0; i < allOptions; i++) {
            optionList.children[i].classList.add('disabled');
            optionList.children[i].classList.add('no-pointer');
            optionList.children[i].removeEventListener('click', optionSelected);
        }
        nextBtn.classList.add('active');
    }

    const url = "index.html";

    function openInNewTab(url) {
        const win = window.open(url, '_blank');
        win.focus();
    }

    pontuaçãoBtn.addEventListener('click', () => {
        openInNewTab(url);
    });

    novamenteBtn.addEventListener('click', () => {
        initializeQuiz();
        pontuaçãoBtn.classList.remove('active');
        novamenteBtn.classList.remove('active');
        resultBox.classList.remove('active');
        quizSection.classList.add('active');
    });

    initializeQuiz();
});
