let questions = [
    {
        numb: 1,
        question: "Um bloco de 2 kg é empurrado com uma força constante de 10 N em uma superfície horizontal. Considerando que o coeficiente de atrito cinético entre o bloco e a superfície é 0,2, determine a aceleração do bloco.",
        answer: "D. 3,8 m/s²",
        options: [
            "A. 3 m/s²",
            "B. 4 m/s²",
            "C. 2 m/s²",
            "D. 3,8 m/s²"
        ]
    },
    {
        numb: 2,
        question: "Um objeto em queda livre parte do repouso de uma altura de 80 m. Qual é a velocidade do objeto ao atingir o solo? (Despreze a resistência do ar e use g = 10 m/s²)",
        answer: "C. 40 m/s",
        options: [
            "A. 20 m/s",
            "B. 30 m/s",
            "C. 40 m/s",
            "D. 50 m/s"
        ]
    },
    {
        numb: 3,
        question: "Uma mola ideal com constante elástica de 200 N/m é comprimida por 0,1 m. Qual é a energia potencial elástica armazenada na mola?",
        answer: "C. 1 J",
        options: [
            "A. 3 J",
            "B. 0,5 J",
            "C. 1 J",
            "D. 2 J"
        ]
    },
    {
        numb: 4,
        question: "Uma esfera de massa 1 kg está presa a uma corda e gira em um círculo horizontal de raio 0,5 m com uma velocidade constante de 2 m/s. Qual é a força centrípeta que atua sobre a esfera?",
        answer: "D. 8 N",
        options: [
            "A. 4 N",
            "B. 2 N",
            "C. 1 N",
            "D. 8 N"
        ]
    },
    {
        numb: 5,
        question: "Em um pêndulo simples, o período de oscilação é de 2 s. Qual é o comprimento do pêndulo? (Use g = 10 m/s²)",
        answer: "B. 1 m",
        options: [
            "A. 0,5 m",
            "B. 1 m",
            "C. 1,5 m",
            "D. 2 m"
        ]
    },
    {
        numb: 6,
        question: "Uma onda sonora viaja no ar com uma velocidade de 340 m/s. Se a frequência da onda é 680 Hz, qual é o comprimento de onda?",
        answer: "D. 0,25 m",
        options: [
            "A. 0,5 m",
            "B. 1 m",
            "C. 1,5 m",
            "D. 0,25 m"
        ]
    },
    {
        numb: 7,
        question: "Um carro está viajando a 30 m/s e desacelera uniformemente até parar em 10 segundos. Qual é a distância percorrida pelo carro durante esse tempo?",
        answer: "B. 150 m",
        options: [
            "A. 100 m",
            "B. 150 m",
            "C. 200 m",
            "D. 300 m"
        ]
    },
    {
        numb: 8,
        question: "Um projétil é lançado com uma velocidade inicial de 20 m/s a um ângulo de 45° com a horizontal. Qual é o alcance máximo do projétil? (Despreze a resistência do ar e use g = 10 m/s²)",
        answer: "D. 40 m",
        options: [
            "A. 20 m",
            "B. 30 m",
            "C. 50 m",
            "D. 40 m"
        ]
    },
    {
        numb: 9,
        question: "Uma corrente elétrica de 5 A percorre um resistor de 10 Ω. Qual é a potência dissipada no resistor?",
        answer: "D. 250 W",
        options: [
            "A. 25 W",
            "B. 50 W",
            "C. 100 W",
            "D. 250 W"
        ]
    },
    {
        numb: 10,
        question: "Um transformador tem uma relação de espiras de 10:1. Se a tensão de entrada é 220 V, qual é a tensão de saída?",
        answer: "B. 22 V",
        options: [
            "A. 25 V",
            "B. 22 V",
            "C. 110 V",
            "D. 2200 V"
        ]
    },
    {
        numb: 11,
        question: "Um gás ideal sofre uma expansão isotérmica. Se o volume do gás dobra, o que acontece com a pressão?",
        answer: "C. A pressão cai pela metade.",
        options: [
            "A. A pressão triplica.",
            "B. A pressão permanece a mesma.",
            "C. A pressão cai pela metade.",
            "D. A pressão quadruplica."
        ]
    },
    {
        numb: 12,
        question: "Qual é a velocidade de um satélite em órbita circular baixa ao redor da Terra, sabendo que o raio da órbita é aproximadamente 6,7x10^6 m e a massa da Terra é 6x10^24 kg? (G = 6,67x10^-11 N·m²/kg²)",
        answer: "D. 7,12 km/s",
        options: [
            "A. 7,15 km/s",
            "B. 6,12 km/s",
            "C. 8,15 km/s",
            "D. 7,12 km/s"
        ]
    },
    {
        numb: 13,
        question: "Uma carga elétrica de 2 C é movida contra um campo elétrico de 100 N/C por 1 m. Qual é o trabalho realizado sobre a carga?",
        answer: "C. 200 J",
        options: [
            "A. 50 J",
            "B. 100 J",
            "C. 200 J",
            "D. 400 J"
        ]
    },
    {
        numb: 14,
        question: "Se uma lente convergente possui uma distância focal de 0,5 m, qual é o aumento produzido quando um objeto é colocado a 1 m da lente?",
        answer: "C. +2",
        options: [
            "A. -1",
            "B. -0,5",
            "C. +2",
            "D. +1"
        ]
    },
    {
        numb: 15,
        question: "Uma força de 20 N é aplicada a uma alavanca a uma distância de 0,5 m do ponto de apoio. Se a alavanca está em equilíbrio e a distância do ponto de apoio ao ponto onde a força resistiva atua é 2 m, qual é a força resistiva?",
        answer: "B. 5 N",
        options: [
            "A. 10 N",
            "B. 5 N",
            "C. 20 N",
            "D. 2,5 N"
        ]
    },
    {
        numb: 16,
        question: "Um cilindro de gás é aquecido a partir de 300 K até 600 K. Se o volume permanece constante, qual é a nova pressão em relação à pressão inicial?",
        answer: "C. A nova pressão é o triplo da pressão inicial.",
        options: [
            "A. A nova pressão é a mesma.",
            "B. A nova pressão é o dobro da pressão inicial.",
            "C. A nova pressão é o triplo da pressão inicial.",
            "D. A nova pressão é metade da pressão inicial."
        ]
    },
    {
        numb: 17,
        question: "A quantidade de movimento (momento linear) de um corpo de massa 5 kg que se move com uma velocidade de 10 m/s é:",
        answer: "B. 50 kg·m/s",
        options: [
            "A. 15 kg·m/s",
            "B. 50 kg·m/s",
            "C. 25 kg·m/s",
            "D. 100 kg·m/s"
        ]
    },
    {
        numb: 18,
        question: "Uma lâmpada de 100 W está conectada a uma rede de 220 V. Qual é a corrente que passa pela lâmpada?",
        answer: "B. 0,45 A",
        options: [
            "A. 0,50 A",
            "B. 0,45 A",
            "C. 2,2 A",
            "D. 1,2 A"
        ]
    },
    {
        numb: 19,
        question: "Uma substância tem um calor específico de 0,5 J/g°C. Se 100 g dessa substância são aquecidos de 20°C para 30°C, qual é a quantidade de calor fornecida?",
        answer: "B. 500 J",
        options: [
            "A. 200 J",
            "B. 500 J",
            "C. 300 J",
            "D. 1000 J"
        ]
    },
    {
        numb: 20,
        question: "Qual é a frequência de uma onda cujo período é de 0,02 s?",
        answer: "C. 50 Hz",
        options: [
            "A. 20 Hz",
            "B. 40 Hz",
            "C. 50 Hz",
            "D. 60 Hz"
        ]
    },
    {
        numb: 21,
        question: "Um motor exerce uma força de 500 N ao longo de um caminho de 50 m. Qual é o trabalho realizado pelo motor?",
        answer: "C. 25000 J",
        options: [
            "A. 10000 J",
            "B. 20000 J",
            "C. 25000 J",
            "D. 50000 J"
        ]
    },
    {
        numb: 22,
        question: "Um capacitor de 10 μF está carregado com uma carga de 20 μC. Qual é a diferença de potencial entre os capacitores?",
        answer: "A. 2 V",
        options: [
            "A. 2 V",
            "B. 10 V",
            "C. 200 V",
            "D. 0,5 V"
        ]
    },
    {
        numb: 23,
        question: "Um espelho convexo tem um raio de curvatura de 20 cm. Qual é a distância focal do espelho?",
        answer: "B. 10 cm",
        options: [
            "A. 20 cm",
            "B. 10 cm",
            "C. 40 cm",
            "D. 5 cm"
        ]
    },
    {
        numb: 24,
        question: "Um bloco de 2 kg é lançado para cima com uma velocidade inicial de 10 m/s. Qual é a altura máxima atingida pelo bloco? (Despreze a resistência do ar e use g = 10 m/s²)",
        answer: "C. 5 m",
        options: [
            "A. 10 m",
            "B. 15 m",
            "C. 5 m",
            "D. 20 m"
        ]
    },
    {
        numb: 25,
        question: "Um circuito elétrico tem uma resistência de 20 Ω e uma corrente de 2 A. Qual é a diferença de potencial no circuito?",
        answer: "D. 40 V",
        options: [
            "A. 2 V",
            "B. 10 V",
            "C. 20 V",
            "D. 40 V"
        ]
    }
];


let selectedQuestions = [];
let questionCount = 0;
let userScore = 0;
let optionSelectedFlag = false;

document.addEventListener('DOMContentLoaded', function() {
    let nextBtn = document.querySelector('.next-btn');
    let optionList = document.querySelector('.option-list');
    let pontuaçãoBtn = document.querySelector('.Pontuação-btn');
    let novamenteBtn = document.querySelector('.Novamente-btn');
    let questionNumb = 1;

    // Função para sortear 5 perguntas aleatórias
    function getRandomQuestions() {
        let shuffled = questions.sort(() => 0.25 - Math.random());
        return shuffled.slice(0, 5);
    }

    // Inicializa o quiz com 5 perguntas aleatórias
    function initializeQuiz() {
        selectedQuestions = getRandomQuestions();
        userScore = 0;
        questionCount = 0;
        questionNumb = 1;
        headerScore();
        showQuestions(questionCount);
        questionCounter(questionNumb);
    }


    nextBtn.onclick = () => {
        if (optionSelectedFlag) {
            if (questionCount < selectedQuestions.length - 1) {
                questionCount++;
                questionNumb++;
                showQuestions(questionCount);
                questionCounter(questionNumb);
                optionSelectedFlag = false;
            } else {
                console.log('Question Completed');
                pontuaçãoBtn.classList.add('active');
                nextBtn.classList.remove('active');
                novamenteBtn.classList.add('active');
    
                // Adicionando a funcionalidade do alerta aqui
                var pontuação = userScore; // Supondo que pontuaçãoBtn seja a pontuação do quiz
                if (pontuação >= 3) {
                    alert(`Parabéns pelo o resultado. Sua pontuação é: ${userScore}`);
                } else {
                    alert(`Parabéns por tentar! Continue se esforçando. Sua pontuação é: ${userScore}`);
                }
            }
        }
    };
    

    function showQuestions(index) {
        const questionText = document.querySelector('.question-text');
        questionText.textContent = `${questionNumb}. ${selectedQuestions[index].question}`;
        let optionTag = `
            <div class="option"><span>${selectedQuestions[index].options[0]}</span></div>
            <div class="option"><span>${selectedQuestions[index].options[1]}</span></div>
            <div class="option"><span>${selectedQuestions[index].options[2]}</span></div>
            <div class="option"><span>${selectedQuestions[index].options[3]}</span></div>`;
        optionList.innerHTML = optionTag;

        const option = document.querySelectorAll('.option');
        for (let i = 0; i < option.length; i++) {
            option[i].addEventListener('click', () => {
                optionSelected(option[i]);
            });
        }

        nextBtn.classList.remove('active');
    }

    function questionCounter(index) {
        const questionTotal = document.querySelector('.question-total');
        questionTotal.textContent = `${index} de ${selectedQuestions.length} Questões`;
    }

    function headerScore() {
        const headerScoreText = document.querySelector('.header-score');
        headerScoreText.textContent = `PONTOS: ${userScore} / 5`;
    }

    function optionSelected(answer) {
        let userAnswer = answer.textContent;
        let correctAnswer = selectedQuestions[questionCount].answer;
        let allOptions = optionList.children.length;

        optionSelectedFlag = true;

        if (userAnswer == correctAnswer) {
            answer.classList.add('correct');
            userScore += 1;
            headerScore();
        } else {
            answer.classList.add('incorrect');
            for (let i = 0; i < allOptions; i++) {
                if (optionList.children[i].textContent == correctAnswer) {
                    optionList.children[i].setAttribute('class', 'option correct');
                }
            }
        }
        for (let i = 0; i < allOptions; i++) {
            optionList.children[i].classList.add('disabled');
            optionList.children[i].classList.add('no-pointer');
            optionList.children[i].removeEventListener('click', optionSelected);
        }
        nextBtn.classList.add('active');
    }

    const url = "index.html";

    function openInNewTab(url) {
        const win = window.open(url, '_blank');
        win.focus();
    }

    pontuaçãoBtn.addEventListener('click', () => {
        openInNewTab(url);
    });

    novamenteBtn.addEventListener('click', () => {
        initializeQuiz();
        pontuaçãoBtn.classList.remove('active');
        novamenteBtn.classList.remove('active');
        resultBox.classList.remove('active');
        quizSection.classList.add('active');
    });

    initializeQuiz();
});
